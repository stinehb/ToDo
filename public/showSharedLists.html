<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>shared lists</title>
</head>
<body>
    <script>
      
      async function showSharedLists() {
        let url = "/showSharedLists";
        let token = localStorage.getItem("token");

        let cfg = {
          method: "GET",
          headers: {
            "content-type": "application/json",
            "authorization": token,
          }
        };

        try {
          let response = await fetch(url, cfg);
          let data = await response.json();

          if (response.status != 200) {
            throw data.error;
          }

          container.innerHTML = ""; //delete previous content

          for (let value of data) {
            let date = new Date(value.date);
            let html = "<h2>" + value.heading + "</h2>";
            html += "<p>" + date.toLocaleDateString() + "</p>";

            let div = document.createElement("div");
            div.innerHTML = html;

         /*   div.addEventListener("click", function (evt) {
              let url = "/showToDoList";
              let divContent = localStorage.setItem(
                "divContent",
                value.items
              );
              let divHeading = localStorage.setItem(
                "divHeading",
                value.heading
              );
              let divID = localStorage.setItem("divID", value.id);
              window.location.href = "showToDoList.html";
            });*/

            container.appendChild(div);

           /* let delbtn = document.createElement("button");
            delbtn.innerHTML = "Delete";
           container.appendChild(delbtn);

            

                    delbtn.addEventListener('click', function(evt) {
                        deleteLists(value.id);
                    });
*/
          }
        } catch (error) {
          console.log(error);
        }
      }

    </script>
</body>
</html>